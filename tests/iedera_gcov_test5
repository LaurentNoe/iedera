#!/bin/sh
# Multivariate tests
echo "4\n        0       1\n                0       1\n                        0        x + y\n                1       1\n                        1        1 - x - y\n        1       0\n                0       1\n                        2        y\n                1       1\n                        3        x\n        2       0\n                0       1\n                        2        1 - x\n                1       1\n                        3        x\n        3       0\n                0       1\n                        2        y\n                1       1\n                        3        1 - y\n" > _filein_multivariate_automaton_markov_x_y
./iedera_gcov -spaced -BSymbols 01 -n 1 -w 11,11 -s 11,22 -z 1 -m "11111111111" -l 32 -pF _filein_multivariate_automaton_markov_x_y -o  _fileout_multivariate_automaton_markov_x_y || exit 99
cat _fileout_multivariate_automaton_markov_x_y | cut -f5 | sed "s/xp/0.3000000000/g" | sed "s/yp/0.7000000000/g" | sed "s/x/.7000000000/g" | sed "s/y/0.3000000000/g" | tr "[]" "  " | bc >  _fileout_multivariate_automaton_markov_x_0.7_y_0.3
diff _fileout_multivariate_automaton_markov_x_0.7_y_0.3  _filemodel_multivariate_automaton_markov_x_0.7_y_0.3.txt || exit 99
